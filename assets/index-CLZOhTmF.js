import{i as ee}from"./index-BjzP5g9D.js";import{d as te,r as h,D as se,G as ae,k as le,c as $,b as s,e,w as t,f as o,H as ne,F as D,n as M,x as oe,g as r,I as ie,t as d,J as re,K as de,L as ue,M as ce,m as x,N,z as L,j as c,O as me,P as _e,Q as pe,R as fe,S as B,U as ye,V as ge,W as ve,o as p}from"./index-B9DbuZsv.js";import{_ as he}from"./_plugin-vue_export-helper-DlAUqK2U.js";const be={class:"dashboard-container"},we={class:"card-header"},xe={class:"stat-content"},Se={class:"stat-info"},Te={class:"stat-number"},ke={class:"stat-label"},Ce={class:"card-header"},ze={class:"header-left"},$e={class:"header-actions"},Ae={class:"sync-time"},De={class:"summary-card running"},Me={class:"summary-icon"},Ne={class:"summary-info"},Le={class:"summary-value"},Be={class:"summary-card maintenance"},Fe={class:"summary-icon"},Ve={class:"summary-info"},Ue={class:"summary-value"},Pe={class:"summary-card warning"},He={class:"summary-icon"},Ie={class:"summary-info"},Re={class:"summary-value"},We={class:"summary-card offline"},Ee={class:"summary-icon"},Ke={class:"summary-info"},Ge={class:"summary-value"},Oe={class:"system-name"},je={class:"card-header"},Je={class:"header-left"},Qe={class:"card-header"},Ye={class:"header-left"},qe={class:"alarm-content"},Xe=te({__name:"index",setup(Ze){const F=[{title:"政务便民服务",icon:"Tickets",value:"6",label:"系统总数",tagText:"运行中",tagType:"success",type:"primary"},{title:"村务管理",icon:"HomeFilled",value:"4",label:"资源总数",tagText:"正常",tagType:"primary",type:"success"},{title:"农业产业信息化",icon:"Crop",value:"9TB",label:"已用/20TB",tagText:"使用中",tagType:"warning",type:"warning"},{title:"应急指挥",icon:"FirstAidKit",value:"65%",label:"CPU使用率",tagText:"实时",tagType:"info",type:"danger"}],g=h("day"),v=h([{id:1,systemName:"政务便民服务平台",owner:"王晓强",status:"运行中",updateTime:"2025-05-01 09:00",usage:78,type:"public"},{id:2,systemName:"村务管理系统",owner:"李文娜",status:"运行中",updateTime:"2025-05-01 08:30",usage:65,type:"village"},{id:3,systemName:"农业信息化平台",owner:"刘志洋",status:"运行中",updateTime:"2025-05-22 17:00",usage:42,type:"agriculture"},{id:4,systemName:"应急指挥系统",owner:"张丽敏",status:"运行中",updateTime:"2025-05-22 16:00",usage:30,type:"emergency"}]),V=h([{type:"warning",time:"2025-05-01 10:30",content:"存储空间使用率超过70%"},{type:"info",time:"2025-05-01 09:15",content:"系统例行维护完成"},{type:"success",time:"2025-05-01 08:00",content:"数据备份任务完成"}]),S=h(!1),U=()=>{S.value=!0,setTimeout(()=>{S.value=!1},1e3)},P=()=>{},T=h(null);let i=null;const H=()=>g.value==="day"?{x:Array.from({length:24},(n,a)=>`${a}:00`),cpu:[65,60,62,66,68,72,69,70,68,67,66,65,64,63,62,61,60,62,64,66,68,70,72,74],mem:[78,75,76,77,79,81,78,77,76,75,74,73,72,71,70,72,74,76,78,80,82,84,86,88],storage:[45,44,44,45,45,46,46,47,47,48,48,49,49,50,50,51,51,52,52,53,53,54,54,55]}:g.value==="week"?{x:["周一","周二","周三","周四","周五","周六","周日"],cpu:[65,60,70,66,68,72,69],mem:[78,75,80,77,79,81,78],storage:[45,44,46,45,47,48,45]}:{x:Array.from({length:30},(n,a)=>`${a+1}日`),cpu:Array.from({length:30},()=>Math.floor(60+Math.random()*15)),mem:Array.from({length:30},()=>Math.floor(70+Math.random()*20)),storage:Array.from({length:30},()=>Math.floor(40+Math.random()*15))},A=()=>{ne(()=>{if(!T.value)return;i&&i.dispose(),i=ee(T.value);const n=H(),a={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["CPU","内存","存储"],right:10,top:0},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:n.x,boundaryGap:!1},yAxis:{type:"value",axisLabel:{formatter:"{value}%"}},series:[{name:"CPU",type:"line",data:n.cpu,smooth:!0,lineStyle:{width:3},itemStyle:{borderWidth:2},areaStyle:{opacity:.1}},{name:"内存",type:"line",data:n.mem,smooth:!0,lineStyle:{width:3},itemStyle:{borderWidth:2},areaStyle:{opacity:.1}},{name:"存储",type:"line",data:n.storage,smooth:!0,lineStyle:{width:3},itemStyle:{borderWidth:2},areaStyle:{opacity:.1}}]};i.setOption(a)})};se(()=>{A(),window.addEventListener("resize",()=>i==null?void 0:i.resize())}),ae(()=>{i==null||i.dispose(),window.removeEventListener("resize",()=>i==null?void 0:i.resize())}),le(g,()=>{A()});const I=n=>{switch(n){case"运行中":return"success";case"维护中":return"info";case"告警":return"warning";case"离线":return"danger";default:return"info"}},R=n=>{switch(n.type){case"public":return"Tickets";case"village":return"HomeFilled";case"agriculture":return"Crop";case"emergency":return"FirstAidKit";default:return"Document"}},W=n=>{switch(n.type){case"public":return"icon-public";case"village":return"icon-village";case"agriculture":return"icon-agriculture";case"emergency":return"icon-emergency";default:return""}},E=n=>`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")} ${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}`,K=n=>{console.log("查看系统详情",n)},G=n=>{console.log("配置系统",n)},O=n=>{console.log("重启系统",n)};return(n,a)=>{const k=o("el-tag"),u=o("el-icon"),b=o("el-card"),_=o("el-col"),C=o("el-row"),w=o("el-tooltip"),f=o("el-button"),y=o("el-table-column"),j=o("el-progress"),J=o("el-button-group"),Q=o("el-table"),z=o("el-radio-button"),Y=o("el-radio-group"),q=o("el-timeline-item"),X=o("el-timeline"),Z=ce("loading");return p(),$("div",be,[a[15]||(a[15]=s("div",{class:"dashboard-header"},[s("h1",{class:"dashboard-title"},"邹城市张庄镇人民政府云定制化平台")],-1)),e(C,{gutter:20,class:"stat-row"},{default:t(()=>[(p(),$(D,null,M(F,(l,m)=>e(_,{xs:24,sm:12,md:6,key:m},{default:t(()=>[e(b,{shadow:"hover",class:N(["stat-card",l.type])},{header:t(()=>[s("div",we,[s("span",null,d(l.title),1),e(k,{type:l.tagType},{default:t(()=>[c(d(l.tagText),1)]),_:2},1032,["type"])])]),default:t(()=>[s("div",xe,[e(u,{class:"stat-icon"},{default:t(()=>[(p(),x(L(l.icon)))]),_:2},1024),s("div",Se,[s("div",Te,d(l.value),1),s("div",ke,d(l.label),1)])])]),_:2},1032,["class"])]),_:2},1024)),64))]),_:1}),e(b,{class:"system-status",shadow:"hover"},{header:t(()=>[s("div",Ce,[s("div",ze,[e(u,null,{default:t(()=>[e(r(fe))]),_:1}),a[2]||(a[2]=s("span",null,"业务系统状态",-1)),e(k,{type:"success",effect:"dark",class:"ml-10"},{default:t(()=>a[1]||(a[1]=[c("全部正常")])),_:1,__:[1]})]),s("div",$e,[e(w,{content:"数据为实时同步"},{default:t(()=>[s("span",Ae,"最后同步: "+d(E(new Date)),1)]),_:1}),e(f,{type:"primary",size:"small",icon:r(B),onClick:U},{default:t(()=>a[3]||(a[3]=[c("刷新")])),_:1,__:[3]},8,["icon"]),e(f,{type:"success",size:"small",icon:r(ye)},{default:t(()=>a[4]||(a[4]=[c("报表")])),_:1,__:[4]},8,["icon"])])])]),default:t(()=>[e(C,{gutter:20,class:"system-summary"},{default:t(()=>[e(_,{xs:24,sm:12,md:6},{default:t(()=>[s("div",De,[s("div",Me,[e(u,null,{default:t(()=>[e(r(ie))]),_:1})]),s("div",Ne,[a[5]||(a[5]=s("div",{class:"summary-title"},"运行中",-1)),s("div",Le,d(v.value.filter(l=>l.status==="运行中").length),1)])])]),_:1}),e(_,{xs:24,sm:12,md:6},{default:t(()=>[s("div",Be,[s("div",Fe,[e(u,null,{default:t(()=>[e(r(re))]),_:1})]),s("div",Ve,[a[6]||(a[6]=s("div",{class:"summary-title"},"维护中",-1)),s("div",Ue,d(v.value.filter(l=>l.status==="维护中").length),1)])])]),_:1}),e(_,{xs:24,sm:12,md:6},{default:t(()=>[s("div",Pe,[s("div",He,[e(u,null,{default:t(()=>[e(r(de))]),_:1})]),s("div",Ie,[a[7]||(a[7]=s("div",{class:"summary-title"},"告警",-1)),s("div",Re,d(v.value.filter(l=>l.status==="告警").length),1)])])]),_:1}),e(_,{xs:24,sm:12,md:6},{default:t(()=>[s("div",We,[s("div",Ee,[e(u,null,{default:t(()=>[e(r(ue))]),_:1})]),s("div",Ke,[a[8]||(a[8]=s("div",{class:"summary-title"},"离线",-1)),s("div",Ge,d(v.value.filter(l=>l.status==="离线").length),1)])])]),_:1})]),_:1}),oe((p(),x(Q,{data:v.value,style:{width:"100%"},"max-height":400,border:"",stripe:"","highlight-current-row":""},{default:t(()=>[e(y,{prop:"systemName",label:"系统名称","min-width":"180"},{default:t(({row:l})=>[s("div",Oe,[e(u,{class:N(["system-icon",W(l)])},{default:t(()=>[(p(),x(L(R(l))))]),_:2},1032,["class"]),s("span",null,d(l.systemName),1)])]),_:1}),e(y,{prop:"owner",label:"负责人",width:"120"}),e(y,{prop:"status",label:"状态",width:"100"},{default:t(({row:l})=>[e(k,{type:I(l.status),effect:"dark",size:"small"},{default:t(()=>[c(d(l.status),1)]),_:2},1032,["type"])]),_:1}),e(y,{prop:"updateTime",label:"更新时间",width:"180"}),e(y,{prop:"usage",label:"使用率",width:"180"},{default:t(({row:l})=>[e(j,{percentage:l.usage||0,status:l.usage>80?"exception":l.usage>60?"warning":"success","stroke-width":8,format:m=>`${m}%`},null,8,["percentage","status","format"])]),_:1}),e(y,{label:"操作",width:"150",fixed:"right"},{default:t(({row:l})=>[e(J,null,{default:t(()=>[e(w,{content:"查看详情",placement:"top"},{default:t(()=>[e(f,{type:"primary",icon:r(me),circle:"",size:"small",onClick:m=>K(l)},null,8,["icon","onClick"])]),_:2},1024),e(w,{content:"系统设置",placement:"top"},{default:t(()=>[e(f,{type:"warning",icon:r(_e),circle:"",size:"small",onClick:m=>G(l)},null,8,["icon","onClick"])]),_:2},1024),e(w,{content:"重启系统",placement:"top"},{default:t(()=>[e(f,{type:"danger",icon:r(pe),circle:"",size:"small",onClick:m=>O(l)},null,8,["icon","onClick"])]),_:2},1024)]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Z,S.value]])]),_:1}),e(C,{gutter:20,class:"monitor-row"},{default:t(()=>[e(_,{xs:24,md:12},{default:t(()=>[e(b,{class:"monitor-card",shadow:"hover"},{header:t(()=>[s("div",je,[s("div",Je,[e(u,null,{default:t(()=>[e(r(ge))]),_:1}),a[9]||(a[9]=s("span",null,"资源使用趋势",-1))]),e(Y,{modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=l=>g.value=l),size:"small"},{default:t(()=>[e(z,{label:"day"},{default:t(()=>a[10]||(a[10]=[c("24小时")])),_:1,__:[10]}),e(z,{label:"week"},{default:t(()=>a[11]||(a[11]=[c("7天")])),_:1,__:[11]}),e(z,{label:"month"},{default:t(()=>a[12]||(a[12]=[c("30天")])),_:1,__:[12]})]),_:1},8,["modelValue"])])]),default:t(()=>[s("div",{ref_key:"trendChartRef",ref:T,class:"chart-container"},null,512)]),_:1})]),_:1}),e(_,{xs:24,md:12},{default:t(()=>[e(b,{class:"monitor-card",shadow:"hover"},{header:t(()=>[s("div",Qe,[s("div",Ye,[e(u,null,{default:t(()=>[e(r(ve))]),_:1}),a[13]||(a[13]=s("span",null,"系统告警",-1))]),e(f,{type:"primary",size:"small",icon:r(B),onClick:P},{default:t(()=>a[14]||(a[14]=[c("刷新")])),_:1,__:[14]},8,["icon"])])]),default:t(()=>[e(X,null,{default:t(()=>[(p(!0),$(D,null,M(V.value,(l,m)=>(p(),x(q,{key:m,type:l.type,timestamp:l.time,hollow:l.type==="info"},{default:t(()=>[s("div",qe,d(l.content),1)]),_:2},1032,["type","timestamp","hollow"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})])}}}),at=he(Xe,[["__scopeId","data-v-633ef796"]]);export{at as default};
