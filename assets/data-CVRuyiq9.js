import{d as k,r as u,k as x,m as T,w as p,f as g,e as h,a5 as V,b as L,j as _,o as M}from"./index-BAfmE6z6.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"dialog-footer"},j=k({__name:"CommonDialog",props:{visible:{type:Boolean,default:!1},title:{type:String,default:""},formData:{type:Object,default:()=>({})},rules:{type:Object,default:()=>({})}},emits:["update:visible","submit","close"],setup(e,{emit:a}){const t=e,l=a,m=u(!1),f=u(!1),c=u();x(()=>t.visible,i=>{m.value=i}),x(()=>m.value,i=>{l("update:visible",i)});const b=()=>{var i;(i=c.value)==null||i.resetFields(),l("close")},C=async()=>{if(c.value)try{await c.value.validate(),f.value=!0,l("submit",t.formData)}catch(i){console.error("表单验证失败:",i)}finally{f.value=!1}};return(i,r)=>{const w=g("el-form"),y=g("el-button"),I=g("el-dialog");return M(),T(I,{modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=D=>m.value=D),title:e.title,width:"500px","close-on-click-modal":!1,onClose:b},{footer:p(()=>[L("span",S,[h(y,{onClick:b},{default:p(()=>r[1]||(r[1]=[_("取消")])),_:1,__:[1]}),h(y,{type:"primary",onClick:C,loading:f.value},{default:p(()=>r[2]||(r[2]=[_(" 确定 ")])),_:1,__:[2]},8,["loading"])])]),default:p(()=>[h(w,{ref_key:"formRef",ref:c,model:e.formData,rules:e.rules,"label-width":"100px",class:"dialog-form"},{default:p(()=>[V(i.$slots,"default",{formData:e.formData},void 0,!0)]),_:3},8,["model","rules"])]),_:3},8,["modelValue","title"])}}}),R=B(j,[["__scopeId","data-v-1b365c34"]]),s=u([{id:1,name:"第一网格",manager:"张三",population:1200,households:350,area:"2.5",status:"正常"},{id:2,name:"第二网格",manager:"李四",population:980,households:280,area:"2.0",status:"正常"},{id:3,name:"第三网格",manager:"王五",population:1500,households:420,area:"3.0",status:"正常"},{id:4,name:"第四网格",manager:"赵六",population:1100,households:320,area:"2.2",status:"正常"},{id:5,name:"第五网格",manager:"钱七",population:1300,households:380,area:"2.8",status:"正常"}]),o=u([{id:1,name:"张庄村",secretary:"张建国",population:1250,area:2800,income:35},{id:2,name:"李庄村",secretary:"李志强",population:980,area:2200,income:28},{id:3,name:"王庄村",secretary:"王伟",population:1100,area:2500,income:32},{id:4,name:"赵庄村",secretary:"赵云",population:870,area:1800,income:21},{id:5,name:"孙庄村",secretary:"孙磊",population:1340,area:3e3,income:40}]),n=u([{id:1,name:"张志强",idCard:"370881198503154378",village:"张庄村",gender:"男",age:38,phone:"15865432198",type:"party"},{id:2,name:"李丽华",idCard:"370881199007123425",village:"李庄村",gender:"女",age:33,phone:"13776549821",type:"normal"},{id:3,name:"王文明",idCard:"370881196805127865",village:"王庄村",gender:"男",age:55,phone:"18932156478",type:"party"},{id:4,name:"赵小丽",idCard:"370881200201087654",village:"赵庄村",gender:"女",age:21,phone:"13798765432",type:"normal"},{id:5,name:"孙志远",idCard:"370881197305128907",village:"孙庄村",gender:"男",age:50,phone:"17865432109",type:"party"}]),d=u([{id:1,title:"张庄村2025年第一季度村务公开",village:"张庄村",type:"村务公开",publisher:"张建国",publishTime:"2025-05-05 10:00",views:356,status:"已发布"},{id:2,title:"张庄村2025年基础设施建设项目公示",village:"张庄村",type:"项目公示",publisher:"张建国",publishTime:"2025-05-10 14:30",views:289,status:"已发布"},{id:3,title:"李庄村2025年第一季度财务收支情况公开",village:"李庄村",type:"财务公开",publisher:"李志强",publishTime:"2025-05-08 09:20",views:198,status:"已发布"},{id:4,title:"王庄村2025年乡村振兴项目资金使用情况",village:"王庄村",type:"财务公开",publisher:"王伟",publishTime:"2025-05-12 11:10",views:176,status:"已发布"},{id:5,title:"赵庄村2025年道路硬化工程施工公告",village:"赵庄村",type:"项目公示",publisher:"赵云",publishTime:"2025-05-15 15:00",views:210,status:"已发布"}]),v=e=>Math.max(...e.map(a=>a.id),0)+1,F={add:e=>{const a=v(s.value);s.value.push({...e,id:a})},update:(e,a)=>{const t=s.value.findIndex(l=>l.id===e);t!==-1&&(s.value[t]={...s.value[t],...a})},delete:e=>{const a=s.value.findIndex(t=>t.id===e);a!==-1&&s.value.splice(a,1)}},U={add:e=>{const a=v(o.value);o.value.push({...e,id:a})},update:(e,a)=>{const t=o.value.findIndex(l=>l.id===e);t!==-1&&(o.value[t]={...o.value[t],...a})},delete:e=>{const a=o.value.findIndex(t=>t.id===e);a!==-1&&o.value.splice(a,1)}},$={add:e=>{const a=v(n.value);n.value.push({...e,id:a})},update:(e,a)=>{const t=n.value.findIndex(l=>l.id===e);t!==-1&&(n.value[t]={...n.value[t],...a})},delete:e=>{const a=n.value.findIndex(t=>t.id===e);a!==-1&&n.value.splice(a,1)}},q={add:e=>{const a=v(d.value);d.value.push({...e,id:a,publishTime:new Date().toLocaleString(),views:0,status:"已发布"})},update:(e,a)=>{const t=d.value.findIndex(l=>l.id===e);t!==-1&&(d.value[t]={...d.value[t],...a})},delete:e=>{const a=d.value.findIndex(t=>t.id===e);a!==-1&&d.value.splice(a,1)}};export{R as C,U as a,$ as b,q as c,s as d,F as g,d as p,n as r,o as v};
