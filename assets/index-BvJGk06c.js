import{d as $e,a as z,r as y,v as Q,D as De,c as P,e,b as s,w as l,f as i,g as u,af as Me,t as r,j as c,a3 as G,ag as Fe,ah as Ie,L as Ne,a4 as Le,ac as qe,S as Ee,i as Pe,a1 as W,ai as je,Y as He,a2 as ee,x as Ke,M as Ye,m as te,X as le,I as ae,U as Ae,$ as Xe,a0 as se,aj as Ze,F as Ge,n as Je,E as k,Z as j,o as S,N as ne}from"./index-BAfmE6z6.js";import{_ as Oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Qe={class:"backup-container"},We={class:"card-content"},et={class:"icon-block"},tt={class:"stat-content"},lt={class:"stat-value"},at={class:"stat-trend up"},st={class:"card-content"},nt={class:"icon-block"},ot={class:"stat-content"},dt={class:"stat-value"},ut={class:"stat-trend up"},it={class:"card-content"},rt={class:"icon-block"},ct={class:"stat-content"},pt={class:"stat-value"},mt={class:"stat-trend up"},gt={class:"card-content"},ft={class:"icon-block"},_t={class:"stat-content"},vt={class:"stat-value"},yt={class:"stat-trend down"},ht={class:"card-header"},bt={class:"header-left"},kt={class:"storage-item"},wt={class:"storage-value"},Tt={class:"storage-item"},Vt={class:"storage-value"},xt={class:"storage-item"},Ct={class:"storage-value"},Rt={class:"operation-bar"},Bt={class:"action-buttons"},St={class:"card-header"},Ut={class:"header-left"},zt={class:"list-actions"},$t={class:"status-cell"},Dt={key:0,class:"progress-bar"},Mt={class:"schedule-tag"},Ft={class:"pagination"},It={class:"log-header"},Nt={class:"log-info"},Lt={class:"log-task-name"},qt={class:"log-task-time"},Et={class:"log-content"},Pt={class:"log-time"},jt={class:"log-message"},Ht=$e({__name:"index",setup(Kt){const f=z({total:5,running:1,completed:3,failed:1}),h=z({total:20,used:9.5,available:10.5}),w=y([{id:1,name:"政务服务数据全量备份",owner:"王晓强",type:"full",source:"/gov/data",target:"/backup/gov/full",schedule:"daily",status:"completed",progress:100,lastRunTime:"2025-05-01 02:00",desc:"每日凌晨全量备份政务服务平台数据"},{id:2,name:"村务管理系统增量备份",owner:"李文娜",type:"incremental",source:"/village/manage",target:"/backup/village/incremental",schedule:"weekly",status:"running",progress:45,lastRunTime:"2025-05-03 03:00",desc:"村务管理系统每周增量备份"},{id:3,name:"农业信息化平台差异备份",owner:"刘志洋",type:"differential",source:"/agri/platform",target:"/backup/agri/diff",schedule:"monthly",status:"failed",progress:60,lastRunTime:"2025-05-05 04:00",desc:"农业信息化平台每月差异备份"},{id:4,name:"应急指挥系统全量备份",owner:"张丽敏",type:"full",source:"/emergency/command",target:"/backup/emergency/full",schedule:"daily",status:"waiting",progress:0,lastRunTime:"2025-05-07 02:00",desc:"应急指挥系统每日全量备份"},{id:5,name:"网格化管理平台增量备份",owner:"赵明",type:"incremental",source:"/grid/manage",target:"/backup/grid/incremental",schedule:"weekly",status:"completed",progress:100,lastRunTime:"2025-05-09 03:00",desc:"网格化管理平台每周增量备份"},{id:6,name:"镇村资产数据全量备份",owner:"宋倩",type:"full",source:"/asset/town",target:"/backup/asset/full",schedule:"monthly",status:"completed",progress:100,lastRunTime:"2025-05-11 01:30",desc:"镇村资产数据每月全量备份"},{id:7,name:"农业生产数据差异备份",owner:"周伟",type:"differential",source:"/agri/production",target:"/backup/agri/production/diff",schedule:"weekly",status:"running",progress:70,lastRunTime:"2025-05-13 04:30",desc:"农业生产数据每周差异备份"},{id:8,name:"硬件资源管理平台增量备份",owner:"刘强",type:"incremental",source:"/hardware/resource",target:"/backup/hardware/incremental",schedule:"daily",status:"completed",progress:100,lastRunTime:"2025-05-15 02:30",desc:"硬件资源管理平台每日增量备份"},{id:9,name:"数据服务平台全量备份",owner:"冯媛",type:"full",source:"/data/service",target:"/backup/data/full",schedule:"monthly",status:"failed",progress:20,lastRunTime:"2025-05-17 05:00",desc:"数据服务平台每月全量备份"},{id:10,name:"应急预案文档差异备份",owner:"许静",type:"differential",source:"/emergency/plans",target:"/backup/emergency/plans/diff",schedule:"weekly",status:"completed",progress:100,lastRunTime:"2025-05-19 03:30",desc:"应急预案文档每周差异备份"}]),T=y([]),H=y(!1),K=y([]),oe=Q(()=>K.value.length>0),de=Q(()=>K.value.some(o=>o.status==="running")),ue=o=>{K.value=o},p=z({keyword:"",type:"",status:""}),Y=y(1),A=y(10),X=y(0),R=y(!1),$=y("add"),Z=y(),n=z({id:0,name:"",owner:"",type:"full",source:"",target:"",schedule:"daily",status:"waiting",progress:0,lastRunTime:"",desc:""}),ie={name:[{required:!0,message:"请输入任务名称",trigger:"blur"},{min:3,max:50,message:"长度在 3 到 50 个字符",trigger:"blur"}],owner:[{required:!0,message:"请输入负责人",trigger:"blur"}],type:[{required:!0,message:"请选择备份类型",trigger:"change"}],source:[{required:!0,message:"请输入源路径",trigger:"blur"}],target:[{required:!0,message:"请输入目标路径",trigger:"blur"}],schedule:[{required:!0,message:"请选择执行计划",trigger:"change"}]},D=y(!1),m=z({taskName:"",status:"completed",lastRunTime:"",logs:[]}),re=()=>f.total>0?Math.round(f.completed/f.total*100):0,ce=()=>f.total>0?Math.round(f.failed/f.total*100):0,pe=()=>"30分钟",M=()=>Math.round(h.used/h.total*100),F=()=>Math.round(h.available/h.total*100),me=()=>{k.success("存储信息已刷新")},C=()=>{H.value=!0,setTimeout(()=>{T.value=w.value.filter(o=>{const t=!p.keyword||o.name.includes(p.keyword)||o.owner.includes(p.keyword)||o.target.includes(p.keyword),d=!p.type||o.type===p.type,b=!p.status||o.status===p.status;return t&&d&&b}),X.value=T.value.length,H.value=!1},500)},ge=()=>{p.keyword="",p.type="",p.status="",C()},fe=o=>{A.value=o,C()},_e=o=>{Y.value=o,C()},ve=()=>{k.success("备份任务报表已导出")},ye=()=>{j.confirm("确定要停止所选的运行中任务吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{k.success("已停止所选任务")}).catch(()=>{})},he=()=>{j.confirm("确定要删除所选任务吗? 此操作不可恢复!","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{k.success("已删除所选任务")}).catch(()=>{})},be=o=>{m.taskName=o.name,m.status=o.status,m.lastRunTime=o.lastRunTime,m.logs=[{time:"08:00:01",type:"info",message:"开始备份任务: "+o.name},{time:"08:00:05",type:"info",message:"正在扫描源文件: "+o.source},{time:"08:01:30",type:"info",message:"已扫描文件数: 1205"},{time:"08:02:45",type:"warning",message:"部分文件访问受限，已跳过"},{time:"08:05:10",type:"info",message:"正在传输数据至目标位置: "+o.target},{time:"08:12:35",type:"info",message:"数据传输完成"}],o.status==="failed"?(m.logs.push({time:"08:13:02",type:"error",message:"校验失败: 目标空间不足"}),m.logs.push({time:"08:13:10",type:"error",message:"备份任务失败"})):o.status==="completed"&&(m.logs.push({time:"08:13:05",type:"info",message:"备份数据校验成功"}),m.logs.push({time:"08:13:30",type:"info",message:"备份任务完成"})),D.value=!0},ke=o=>{j.confirm(`确定要执行备份任务"${o.name}"吗?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).then(()=>{k.success("备份任务已启动")}).catch(()=>{})},we=()=>{$.value="add",n.id=0,n.name="",n.owner="",n.type="full",n.source="",n.target="",n.schedule="daily",n.status="waiting",n.progress=0,n.lastRunTime="",n.desc="",n.customTime="",R.value=!0},Te=o=>{$.value="edit",n.id=o.id,n.name=o.name,n.owner=o.owner,n.type=o.type,n.source=o.source||"",n.target=o.target||"",n.schedule=o.schedule,n.status=o.status,n.progress=o.progress,n.lastRunTime=o.lastRunTime,n.desc=o.desc||"",n.customTime=o.customTime||"",R.value=!0},Ve=o=>{j.confirm(`确定要删除备份任务"${o.name}"吗？此操作不可恢复!`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const t=w.value.findIndex(d=>d.id===o.id);t!==-1&&(w.value.splice(t,1),C()),k.success("删除成功")}).catch(()=>{})},xe=()=>{Z.value&&Z.value.validate(o=>{if(o){if($.value==="add"){const t=Math.max(...w.value.map(I=>I.id))+1,d=new Date,b=`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")} ${String(d.getHours()).padStart(2,"0")}:${String(d.getMinutes()).padStart(2,"0")}`,V={id:t,name:n.name,owner:n.owner,type:n.type,source:n.source,target:n.target,schedule:n.schedule,status:"waiting",progress:0,lastRunTime:b,desc:n.desc,customTime:n.customTime};w.value.push(V),k.success("添加成功")}else{const t=w.value.findIndex(d=>d.id===n.id);t!==-1&&(w.value[t]={...w.value[t],...n},k.success("更新成功"))}R.value=!1,C()}else k.error("表单验证失败，请检查输入")})},Ce=()=>{k.success("日志下载中...")};return De(()=>{T.value=[...w.value],X.value=T.value.length,f.total=T.value.length,f.running=T.value.filter(o=>o.status==="running").length,f.completed=T.value.filter(o=>o.status==="completed").length,f.failed=T.value.filter(o=>o.status==="failed").length}),(o,t)=>{const d=i("el-icon"),b=i("el-card"),V=i("el-col"),I=i("el-row"),g=i("el-button"),N=i("el-progress"),B=i("el-input"),v=i("el-form-item"),_=i("el-option"),L=i("el-select"),J=i("el-form"),x=i("el-table-column"),q=i("el-tag"),E=i("el-tooltip"),Re=i("el-button-group"),Be=i("el-table"),Se=i("el-pagination"),Ue=i("el-time-picker"),O=i("el-dialog"),ze=Ye("loading");return S(),P("div",Qe,[e(I,{gutter:20,class:"backup-stats"},{default:l(()=>[e(V,{xs:24,sm:12,md:6},{default:l(()=>[e(b,{shadow:"hover",class:"stat-card total"},{default:l(()=>[s("div",We,[s("div",et,[e(d,null,{default:l(()=>[e(u(Me))]),_:1})]),s("div",tt,[t[18]||(t[18]=s("div",{class:"stat-title"},"总任务数",-1)),s("div",lt,r(f.total),1),s("div",at,[e(d,null,{default:l(()=>[e(u(G))]),_:1}),t[17]||(t[17]=c(" 较上月增长 5% "))])])])]),_:1})]),_:1}),e(V,{xs:24,sm:12,md:6},{default:l(()=>[e(b,{shadow:"hover",class:"stat-card running"},{default:l(()=>[s("div",st,[s("div",nt,[e(d,null,{default:l(()=>[e(u(Fe))]),_:1})]),s("div",ot,[t[19]||(t[19]=s("div",{class:"stat-title"},"运行中",-1)),s("div",dt,r(f.running),1),s("div",ut,[e(d,null,{default:l(()=>[e(u(G))]),_:1}),c(" 预计 "+r(pe())+" 完成 ",1)])])])]),_:1})]),_:1}),e(V,{xs:24,sm:12,md:6},{default:l(()=>[e(b,{shadow:"hover",class:"stat-card completed"},{default:l(()=>[s("div",it,[s("div",rt,[e(d,null,{default:l(()=>[e(u(Ie))]),_:1})]),s("div",ct,[t[20]||(t[20]=s("div",{class:"stat-title"},"已完成",-1)),s("div",pt,r(f.completed),1),s("div",mt,[e(d,null,{default:l(()=>[e(u(G))]),_:1}),c(" 完成率 "+r(re())+"% ",1)])])])]),_:1})]),_:1}),e(V,{xs:24,sm:12,md:6},{default:l(()=>[e(b,{shadow:"hover",class:"stat-card failed"},{default:l(()=>[s("div",gt,[s("div",ft,[e(d,null,{default:l(()=>[e(u(Ne))]),_:1})]),s("div",_t,[t[21]||(t[21]=s("div",{class:"stat-title"},"失败",-1)),s("div",vt,r(f.failed),1),s("div",yt,[e(d,null,{default:l(()=>[e(u(Le))]),_:1}),c(" 失败率 "+r(ce())+"% ",1)])])])]),_:1})]),_:1})]),_:1}),e(b,{shadow:"hover",class:"storage-summary"},{header:l(()=>[s("div",ht,[s("div",bt,[e(d,null,{default:l(()=>[e(u(qe))]),_:1}),t[22]||(t[22]=s("span",null,"存储容量摘要",-1))]),e(g,{type:"primary",size:"small",onClick:me},{default:l(()=>[e(d,null,{default:l(()=>[e(u(Ee))]),_:1}),t[23]||(t[23]=c("刷新 "))]),_:1,__:[23]})])]),default:l(()=>[e(I,{gutter:20},{default:l(()=>[e(V,{xs:24,sm:12,md:8},{default:l(()=>[s("div",kt,[t[24]||(t[24]=s("div",{class:"storage-title"},"总容量",-1)),s("div",wt,r(h.total)+"TB",1),e(N,{percentage:100,status:"success",format:()=>h.total+"TB"},null,8,["format"])])]),_:1}),e(V,{xs:24,sm:12,md:8},{default:l(()=>[s("div",Tt,[t[25]||(t[25]=s("div",{class:"storage-title"},"已用空间",-1)),s("div",Vt,r(h.used)+"TB",1),e(N,{percentage:M(),status:M()>80?"exception":M()>60?"warning":"success",format:()=>h.used+"TB ("+M()+"%)"},null,8,["percentage","status","format"])])]),_:1}),e(V,{xs:24,sm:12,md:8},{default:l(()=>[s("div",xt,[t[26]||(t[26]=s("div",{class:"storage-title"},"可用空间",-1)),s("div",Ct,r(h.available)+"TB",1),e(N,{percentage:F(),status:F()<20?"exception":F()<40?"warning":"success",format:()=>h.available+"TB ("+F()+"%)"},null,8,["percentage","status","format"])])]),_:1})]),_:1})]),_:1}),s("div",Rt,[e(J,{inline:!0,model:p,class:"search-form"},{default:l(()=>[e(v,null,{default:l(()=>[e(B,{modelValue:p.keyword,"onUpdate:modelValue":t[0]||(t[0]=a=>p.keyword=a),placeholder:"任务名称/负责人/目标路径",clearable:"",onKeyup:Pe(C,["enter"])},{prefix:l(()=>[e(d,null,{default:l(()=>[e(u(W))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(v,null,{default:l(()=>[e(L,{modelValue:p.type,"onUpdate:modelValue":t[1]||(t[1]=a=>p.type=a),placeholder:"备份类型",clearable:""},{default:l(()=>[e(_,{label:"全量备份",value:"full"}),e(_,{label:"增量备份",value:"incremental"}),e(_,{label:"差异备份",value:"differential"})]),_:1},8,["modelValue"])]),_:1}),e(v,null,{default:l(()=>[e(L,{modelValue:p.status,"onUpdate:modelValue":t[2]||(t[2]=a=>p.status=a),placeholder:"状态",clearable:""},{default:l(()=>[e(_,{label:"运行中",value:"running"}),e(_,{label:"已完成",value:"completed"}),e(_,{label:"失败",value:"failed"}),e(_,{label:"等待中",value:"waiting"})]),_:1},8,["modelValue"])]),_:1}),e(v,null,{default:l(()=>[e(g,{type:"primary",onClick:C},{default:l(()=>[e(d,null,{default:l(()=>[e(u(W))]),_:1}),t[27]||(t[27]=c("搜索 "))]),_:1,__:[27]}),e(g,{onClick:ge},{default:l(()=>[e(d,null,{default:l(()=>[e(u(je))]),_:1}),t[28]||(t[28]=c("重置 "))]),_:1,__:[28]})]),_:1})]),_:1},8,["model"]),s("div",Bt,[e(g,{type:"primary",onClick:we},{default:l(()=>[e(d,null,{default:l(()=>[e(u(He))]),_:1}),t[29]||(t[29]=c("新建备份任务 "))]),_:1,__:[29]}),e(g,{type:"success",onClick:ve},{default:l(()=>[e(d,null,{default:l(()=>[e(u(ee))]),_:1}),t[30]||(t[30]=c("导出报表 "))]),_:1,__:[30]})])]),e(b,{class:"backup-list",shadow:"hover"},{header:l(()=>[s("div",St,[s("div",Ut,[e(d,null,{default:l(()=>[e(u(Ze))]),_:1}),t[31]||(t[31]=s("span",null,"备份任务列表",-1))]),s("div",zt,[e(g,{type:"warning",size:"small",onClick:ye,disabled:!de.value},{default:l(()=>[e(d,null,{default:l(()=>[e(u(ae))]),_:1}),t[32]||(t[32]=c("停止所选 "))]),_:1,__:[32]},8,["disabled"]),e(g,{type:"danger",size:"small",onClick:he,disabled:!oe.value},{default:l(()=>[e(d,null,{default:l(()=>[e(u(se))]),_:1}),t[33]||(t[33]=c("删除所选 "))]),_:1,__:[33]},8,["disabled"])])])]),default:l(()=>[Ke((S(),te(Be,{data:T.value,border:"",stripe:"","highlight-current-row":"",onSelectionChange:ue,style:{width:"100%"}},{default:l(()=>[e(x,{type:"selection",width:"45",align:"center"}),e(x,{prop:"name",label:"任务名称","min-width":"140","show-overflow-tooltip":""}),e(x,{prop:"owner",label:"负责人","min-width":"100"}),e(x,{prop:"type",label:"类型","min-width":"100"},{default:l(({row:a})=>[e(q,{type:a.type==="full"?"primary":a.type==="incremental"?"success":"warning"},{default:l(()=>[c(r(a.type==="full"?"全量备份":a.type==="incremental"?"增量备份":"差异备份"),1)]),_:2},1032,["type"])]),_:1}),e(x,{prop:"status",label:"状态","min-width":"120"},{default:l(({row:a})=>[s("div",$t,[e(q,{type:a.status==="running"?"primary":a.status==="completed"?"success":a.status==="failed"?"danger":"info"},{default:l(()=>[c(r(a.status==="running"?"运行中":a.status==="completed"?"已完成":a.status==="failed"?"失败":"等待中"),1)]),_:2},1032,["type"]),a.status==="running"?(S(),P("div",Dt,[e(N,{percentage:a.progress,"stroke-width":5},null,8,["percentage"])])):le("",!0)])]),_:1}),e(x,{prop:"lastRunTime",label:"备份时间","min-width":"160",sortable:""}),e(x,{prop:"schedule",label:"执行计划","min-width":"120"},{default:l(({row:a})=>[s("div",Mt,[e(q,{type:"info",effect:"plain"},{default:l(()=>[c(r(a.schedule==="daily"?"每天":a.schedule==="weekly"?"每周":a.schedule==="monthly"?"每月":"自定义"),1)]),_:2},1024)])]),_:1}),e(x,{label:"操作",width:"220",fixed:"right"},{default:l(({row:a})=>[e(Re,null,{default:l(()=>[e(E,{content:"执行备份",placement:"top"},{default:l(()=>[e(g,{type:"primary",size:"small",circle:"",icon:u(ae),onClick:U=>ke(a),disabled:a.status==="running"},null,8,["icon","onClick","disabled"])]),_:2},1024),e(E,{content:"查看日志",placement:"top"},{default:l(()=>[e(g,{type:"info",size:"small",circle:"",icon:u(Ae),onClick:U=>be(a)},null,8,["icon","onClick"])]),_:2},1024),e(E,{content:"编辑任务",placement:"top"},{default:l(()=>[e(g,{type:"warning",size:"small",circle:"",icon:u(Xe),onClick:U=>Te(a)},null,8,["icon","onClick"])]),_:2},1024),e(E,{content:"删除任务",placement:"top"},{default:l(()=>[e(g,{type:"danger",size:"small",circle:"",icon:u(se),onClick:U=>Ve(a)},null,8,["icon","onClick"])]),_:2},1024)]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[ze,H.value]]),s("div",Ft,[e(Se,{"current-page":Y.value,"onUpdate:currentPage":t[3]||(t[3]=a=>Y.value=a),"page-size":A.value,"onUpdate:pageSize":t[4]||(t[4]=a=>A.value=a),"page-sizes":[10,20,50,100],total:X.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:fe,onCurrentChange:_e},null,8,["current-page","page-size","total"])])]),_:1}),e(O,{modelValue:R.value,"onUpdate:modelValue":t[14]||(t[14]=a=>R.value=a),title:$.value==="add"?"新建备份任务":"编辑备份任务",width:"600px"},{footer:l(()=>[e(g,{onClick:t[13]||(t[13]=a=>R.value=!1)},{default:l(()=>t[34]||(t[34]=[c("取消")])),_:1,__:[34]}),e(g,{type:"primary",onClick:xe},{default:l(()=>t[35]||(t[35]=[c("确定")])),_:1,__:[35]})]),default:l(()=>[e(J,{ref_key:"backupFormRef",ref:Z,model:n,rules:ie,"label-width":"100px"},{default:l(()=>[e(v,{label:"任务名称",prop:"name"},{default:l(()=>[e(B,{modelValue:n.name,"onUpdate:modelValue":t[5]||(t[5]=a=>n.name=a),placeholder:"请输入任务名称"},null,8,["modelValue"])]),_:1}),e(v,{label:"负责人",prop:"owner"},{default:l(()=>[e(B,{modelValue:n.owner,"onUpdate:modelValue":t[6]||(t[6]=a=>n.owner=a),placeholder:"请输入负责人"},null,8,["modelValue"])]),_:1}),e(v,{label:"类型",prop:"type"},{default:l(()=>[e(L,{modelValue:n.type,"onUpdate:modelValue":t[7]||(t[7]=a=>n.type=a),placeholder:"请选择备份类型",style:{width:"100%"}},{default:l(()=>[e(_,{label:"全量备份",value:"full"}),e(_,{label:"增量备份",value:"incremental"}),e(_,{label:"差异备份",value:"differential"})]),_:1},8,["modelValue"])]),_:1}),e(v,{label:"源路径",prop:"source"},{default:l(()=>[e(B,{modelValue:n.source,"onUpdate:modelValue":t[8]||(t[8]=a=>n.source=a),placeholder:"请输入源路径"},null,8,["modelValue"])]),_:1}),e(v,{label:"目标路径",prop:"target"},{default:l(()=>[e(B,{modelValue:n.target,"onUpdate:modelValue":t[9]||(t[9]=a=>n.target=a),placeholder:"请输入目标路径"},null,8,["modelValue"])]),_:1}),e(v,{label:"执行计划",prop:"schedule"},{default:l(()=>[e(L,{modelValue:n.schedule,"onUpdate:modelValue":t[10]||(t[10]=a=>n.schedule=a),placeholder:"请选择执行计划",style:{width:"100%"}},{default:l(()=>[e(_,{label:"每天",value:"daily"}),e(_,{label:"每周",value:"weekly"}),e(_,{label:"每月",value:"monthly"}),e(_,{label:"自定义",value:"custom"})]),_:1},8,["modelValue"])]),_:1}),n.schedule==="custom"?(S(),te(v,{key:0,label:"自定义时间",prop:"customTime"},{default:l(()=>[e(Ue,{modelValue:n.customTime,"onUpdate:modelValue":t[11]||(t[11]=a=>n.customTime=a),format:"HH:mm",placeholder:"选择时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1})):le("",!0),e(v,{label:"描述",prop:"desc"},{default:l(()=>[e(B,{modelValue:n.desc,"onUpdate:modelValue":t[12]||(t[12]=a=>n.desc=a),type:"textarea",rows:"3",placeholder:"请输入描述"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(O,{modelValue:D.value,"onUpdate:modelValue":t[16]||(t[16]=a=>D.value=a),title:"备份任务日志",width:"800px"},{footer:l(()=>[e(g,{onClick:t[15]||(t[15]=a=>D.value=!1)},{default:l(()=>t[36]||(t[36]=[c("关闭")])),_:1,__:[36]}),e(g,{type:"primary",onClick:Ce},{default:l(()=>[e(d,null,{default:l(()=>[e(u(ee))]),_:1}),t[37]||(t[37]=c("下载日志 "))]),_:1,__:[37]})]),default:l(()=>[s("div",It,[s("div",Nt,[s("div",Lt,r(m.taskName),1),s("div",qt,r(m.lastRunTime),1)]),e(q,{type:m.status==="completed"?"success":m.status==="failed"?"danger":"primary"},{default:l(()=>[c(r(m.status==="completed"?"成功":m.status==="failed"?"失败":"运行中"),1)]),_:1},8,["type"])]),s("div",Et,[(S(!0),P(Ge,null,Je(m.logs,(a,U)=>(S(),P("div",{key:U,class:ne(["log-item",{"log-error":a.type==="error","log-warning":a.type==="warning","log-info":a.type==="info"}])},[s("span",Pt,r(a.time),1),s("span",{class:ne(["log-type",{"error-type":a.type==="error","warning-type":a.type==="warning","info-type":a.type==="info"}])}," ["+r(a.type.toUpperCase())+"] ",3),s("span",jt,r(a.message),1)],2))),128))])]),_:1},8,["modelValue"])])}}}),Xt=Oe(Ht,[["__scopeId","data-v-9f246075"]]);export{Xt as default};
